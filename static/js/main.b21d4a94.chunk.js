(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],[,,function(e,t,a){},,,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),l=a.n(r),i=(a(10),a(1)),o=(a(2),Object(n.createContext)()),s=function(e){var t=Object(n.useState)("Amsterdam"),a=Object(i.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)([]),E=Object(i.a)(p,2),h=E[0],v=E[1],b=Object(n.useState)(!0),f=Object(i.a)(b,2),g=f[0],w=f[1];return Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(r,"&units=metric&appid=7e28b5e7ee2cd04718568031c6fcfff3"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){d(e.city),v(e),w(!1)})).catch((function(e){console.log("Error!"),l("Amsterdam")}))}),[r]),c.a.createElement(o.Provider,{value:{weather:[h,v],cityInfo:[u,d],citySetter:[r,l],loading:[g,w]}},e.children)},m=function(){var e,t=Object(n.useContext)(o),a=t.weather,r=t.cityInfo,l=t.citySetter,s=t.loading,m=Object(i.a)(a,2),u=m[0],d=(m[1],Object(i.a)(r,2)),p=d[0],E=(d[1],Object(i.a)(l,2)),h=(E[0],E[1],Object(i.a)(s,2)),v=h[0];h[1];function b(e){var t=new Date(1e3*e),a=t.getHours(),n=t.getMinutes();return n<10&&(n="0"+n),"".concat(a,":").concat(n)}return c.a.createElement("div",{className:"current-weather"},c.a.createElement("div",{className:"current-weather-top"},c.a.createElement("div",{className:"city-name"},c.a.createElement("h1",null," ","".concat(p.name,", ").concat(p.country)," ")),c.a.createElement("div",{className:"date"},v?"Loading":c.a.createElement("p",null," ",function(e){var t=new Date(1e3*e),a=t.getMonth(),n=t.getDate(),c=t.getDay();return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c]," ").concat(n," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a])}(u.list[0].dt)," "))),c.a.createElement("div",{className:"current-weather-bottom"},c.a.createElement("div",{className:"current-weather-left"},c.a.createElement("div",{className:"current-lower-container"},c.a.createElement("div",{className:"current-icon"},v?"-":c.a.createElement("img",{src:(e=u.list[0].weather[0].icon,"http://openweathermap.org/img/wn/".concat(e,"@4x.png"))})),c.a.createElement("div",{className:"current-info"},c.a.createElement("div",{className:"current-temp"},v?"-":"".concat(Math.round(u.list[0].main.temp),"\xb0")),c.a.createElement("div",{className:"current-description"},v?"-":c.a.createElement("p",null," ",function(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")}(u.list[0].weather[0].description),"  "))))),c.a.createElement("div",{className:"current-weather-right"},c.a.createElement("div",{className:"high-temp"},v?"-":c.a.createElement("p",null," ","".concat(Math.round(u.list[0].main.temp_max),"\xb0")," "),c.a.createElement("p",{className:"label"},"High")),c.a.createElement("div",{className:"low-temp"},v?"-":c.a.createElement("p",null," ","".concat(Math.round(u.list[0].main.temp_min),"\xb0")," "),c.a.createElement("p",{className:"label"},"Low")),c.a.createElement("div",{className:"wind"},v?"-":c.a.createElement("p",null," ","".concat(u.list[0].wind.speed," m/s")," "),c.a.createElement("p",{className:"label"},"Wind Speed")),c.a.createElement("div",{className:"humidity"},v?"-":c.a.createElement("p",null," ",u.list[0].main.humidity,"% "),c.a.createElement("p",{className:"label"},"Humidity")),c.a.createElement("div",{className:"sunrise"},v?"-":c.a.createElement("p",null," ","".concat(b(p.sunrise))," "),c.a.createElement("p",{className:"label"},"Sunrise")),c.a.createElement("div",{className:"sunset"},v?"-":c.a.createElement("p",null," ","".concat(b(p.sunset))," "),c.a.createElement("p",{className:"label"},"Sunset")))))};var u=function(e){var t,a=Object(n.useContext)(o),r=a.weather,l=a.cityInfo,s=a.citySetter,m=a.loading,u=Object(i.a)(r,2),d=u[0],p=(u[1],Object(i.a)(l,2)),E=p[0],h=(p[1],Object(i.a)(s,2)),v=(h[0],h[1],Object(i.a)(m,2)),b=v[0];return v[1],c.a.createElement("div",{className:"day"},b?c.a.createElement("p",null,"-"):c.a.createElement("div",{className:"forecast"},c.a.createElement("div",{className:"forecast-date"},c.a.createElement("p",null,function(e){var t=e+E.timezone,a=new Date(1e3*t),n=a.getMonth()+1,c=a.getDate();return a.getHours(),a.getMinutes(),"".concat(n,".").concat(c)}(d.list[e.index].dt))),c.a.createElement("div",{className:"forecast-time"},c.a.createElement("p",null,function(e){var t=e+E.timezone,a=new Date(1e3*t),n=a.getHours(),c=a.getMinutes()+"0";return"".concat(n,":").concat(c)}(d.list[e.index].dt))),c.a.createElement("div",{className:"forecast-icon"},c.a.createElement("img",{src:(t=d.list[e.index].weather[0].icon,"http://openweathermap.org/img/wn/".concat(t,".png"))})),c.a.createElement("div",{className:"forecast-temp"},c.a.createElement("p",null,Math.round(d.list[e.index].main.temp),"\xb0"))))};var d=function(){var e=Object(n.useContext)(o),t=e.weather,a=e.cityInfo,r=e.citySetter,l=e.loading,s=Object(i.a)(t,2),m=s[0],d=(s[1],Object(i.a)(a,2)),p=(d[0],d[1],Object(i.a)(r,2)),E=(p[0],p[1],Object(i.a)(l,2)),h=E[0];return E[1],c.a.createElement("div",{className:"days"},c.a.createElement("div",{className:"forecast-title"},c.a.createElement("h2",null," Forecast ")),c.a.createElement("div",{className:"forecast-box"},h?"Loading":m.list.map((function(e,t){return c.a.createElement(u,{index:t,key:t})}))))},p=function(){var e=Object(n.useContext)(o),t=(e.weather,e.cityInfo),a=e.citySetter,r=e.loading,l=Object(i.a)(t,2),s=(l[0],l[1],Object(i.a)(a,2)),m=(s[0],s[1]),u=Object(i.a)(r,2),d=(u[0],u[1],Object(n.useState)("")),p=Object(i.a)(d,2),E=p[0],h=p[1];return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(E),h("")},className:"searchBar"},c.a.createElement("input",{type:"text",name:"city",autoComplete:"off",placeholder:"Enter a city...",value:E,onChange:function(e){h(e.target.value)}}),c.a.createElement("button",null))};var E=function(){return document.body.style.backgroundImage="https://source.unsplash.com/".concat(window.innerWidth,"x").concat(window.innerHeight,"/?nature"),c.a.createElement(s,null,c.a.createElement("div",{className:"app"},c.a.createElement(p,null),c.a.createElement(m,null),c.a.createElement(d,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.b21d4a94.chunk.js.map